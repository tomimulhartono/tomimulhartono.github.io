<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Getting Started with Your New Application on OpenResty Edge: An Easy-to-Follow Tutorial | Tomi Mulhartono</title>
<meta name=keywords content="cybersecurity,OpenResty,Web Application Firewall"><meta name=description content="Welcome aboard! If you’re gearing up to launch a new application on OpenResty Edge, you’re in the right place. Whether you’re a seasoned pro or just starting out, I’ll walk you through every step of the way with a dash of fun. Grab your favorite drink, settle in, and let’s dive into this setup adventure!
What is OpenResty Edge? OpenResty Edge is a powerful platform designed to manage and deliver your applications at the edge, optimizing performance, scalability, and security."><meta name=author content="Tomi Mulhartono"><link rel=canonical href=https://canonical.url/to/page><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.4599eadb9eb2ad3d0a8d6827b41a8fda8f2f4af226b63466c09c5fddbc8706b7.css integrity="sha256-RZnq256yrT0KjWgntBqP2o8vSvImtjRmwJxf3byHBrc=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/creating-a-new-app-on-openresty-edge/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Getting Started with Your New Application on OpenResty Edge: An Easy-to-Follow Tutorial"><meta property="og:description" content="Welcome aboard! If you’re gearing up to launch a new application on OpenResty Edge, you’re in the right place. Whether you’re a seasoned pro or just starting out, I’ll walk you through every step of the way with a dash of fun. Grab your favorite drink, settle in, and let’s dive into this setup adventure!
What is OpenResty Edge? OpenResty Edge is a powerful platform designed to manage and deliver your applications at the edge, optimizing performance, scalability, and security."><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/creating-a-new-app-on-openresty-edge/"><meta property="og:image" content="http://localhost:1313/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-06T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-06T00:00:00+00:00"><meta property="og:site_name" content="Tomi Mulhartono"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Cimage%20path/url%3E"><meta name=twitter:title content="Getting Started with Your New Application on OpenResty Edge: An Easy-to-Follow Tutorial"><meta name=twitter:description content="Welcome aboard! If you’re gearing up to launch a new application on OpenResty Edge, you’re in the right place. Whether you’re a seasoned pro or just starting out, I’ll walk you through every step of the way with a dash of fun. Grab your favorite drink, settle in, and let’s dive into this setup adventure!
What is OpenResty Edge? OpenResty Edge is a powerful platform designed to manage and deliver your applications at the edge, optimizing performance, scalability, and security."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Getting Started with Your New Application on OpenResty Edge: An Easy-to-Follow Tutorial","item":"http://localhost:1313/posts/creating-a-new-app-on-openresty-edge/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Getting Started with Your New Application on OpenResty Edge: An Easy-to-Follow Tutorial","name":"Getting Started with Your New Application on OpenResty Edge: An Easy-to-Follow Tutorial","description":"Welcome aboard! If you’re gearing up to launch a new application on OpenResty Edge, you’re in the right place. Whether you’re a seasoned pro or just starting out, I’ll walk you through every step of the way with a dash of fun. Grab your favorite drink, settle in, and let’s dive into this setup adventure!\nWhat is OpenResty Edge? OpenResty Edge is a powerful platform designed to manage and deliver your applications at the edge, optimizing performance, scalability, and security.","keywords":["cybersecurity","OpenResty","Web Application Firewall"],"articleBody":"Welcome aboard! If you’re gearing up to launch a new application on OpenResty Edge, you’re in the right place. Whether you’re a seasoned pro or just starting out, I’ll walk you through every step of the way with a dash of fun. Grab your favorite drink, settle in, and let’s dive into this setup adventure!\nWhat is OpenResty Edge? OpenResty Edge is a powerful platform designed to manage and deliver your applications at the edge, optimizing performance, scalability, and security. It allows you to deploy and configure applications in a fast, flexible, and efficient way, using advanced features like traffic routing, custom rules, and SSL management. With OpenResty Edge, you can easily manage traffic, enhance security, and ensure smooth user experiences for your applications at scale.\nLet’s Get Started! Step 1: Creating Your New Application Let’s get that new app live and kicking! Here’s how to create your first application on OpenResty Edge.\nLogin to Your OpenResty Edge Dashboard\nHead over to the OpenResty Edge dashboard and log in using your credentials.\nNavigate to the Applications Section\nOnce you’re logged in, click on Applications from the top menu.\nInside the Applications section, click on the Create New App button to start the process.\nFill Out the Application Details\nHere’s a breakdown of the fields you’ll encounter:\nDomains: Enter your domain name here (e.g., tomi-example.co.id). HTTP Port: You can leave this blank for now. HTTPS Port: Set to 443 for secure traffic. Label: Give your app a memorable label, like Create a New Example App. Once you’ve filled everything out, click Save!\nStep 2: Configuring Page Rules Now, let’s configure some important rules to control how traffic behaves for your application.\nCustom Edge Language Rules at the Beginning of This Page\nTo block specific IPs and log alerts, use the following rule:\nclient-addr !~~ any (192.168.100.1) =\u003e errlog(level: \"alert\", \"SEC-00- Unauthorized IP!\", foreign-call(module: \"headers-log\", func: \"go\") ~ req-body()), exit(444); This rule does two things:\nBlocks traffic from the IP 192.168.100.1. Logs an alert with the message “Unauthorized IP!”. After adding your custom rules, click Save.\nCreate New Rules\nLet’s move on to setting up some common rules you’ll probably need.\nRedirect HTTP to HTTPS\nTo enhance security, redirect all HTTP traffic to HTTPS:\nClick New Rule in the Page Rules section.\nSet up the condition:\nWhen → Add a new condition: Variable → Scheme Operator → String = Value → http Add the action:\nAction Type → Redirect\nSet the following fields:\nURI → Choose current.\nScheme → Set this to https.\nStatus Code → Set to 302 Moved Temporarily.\nThis will ensure all users trying to access your site via HTTP will be securely redirected to HTTPS.\nSet Proxy Header\nIf you need specific headers to be passed to the backend server:\nClick New Rule again.\nIn the When section, add a new condition for Host:\nVariable → Host\nValue → Your domain (e.g., tomi-example.co.id).\nAdd the following actions:\nSet Proxy Header: Set the Host header with your domain name.\nAppend Proxy Header: Append the X-Forwarded-For header with the client address.\nUnder Proxy settings, turn Proxy On and select the upstream server you created earlier.\nCustom Edge Language Rules at the End of This Page\nWanna speed up your site? Caching static files like JavaScript, CSS, and images is a great way to do that. Here’s the rule you need to add:\nuri-suffix( rx:s/\\.(?:js|css|xml).{0,3}$/), req-method(\"GET\")=\u003e enable-proxy-cache(key: uri), enforce-proxy-cache(7 [day]), set-resp-header(\"Cache-Control\", \"public, max-age=604800, immutable\"); uri-suffix( rx:s/\\.(?:gif|png|js|css|html|jpg|wof|svg|woff2|ttf|otf|eot|ico).{0,5}$/), req-method(\"GET\")=\u003e enable-proxy-cache(key: uri), enforce-proxy-cache(365 [day]), set-resp-header(\"Cache-Control\", \"public, max-age=3153600, immutable\"); Here’s the breakdown:\nJavaScript and CSS files: Cached for 7 days. Other files like images: Cached for 365 days. Cache-Control Header: Tells browsers to keep these files for the specified period, which helps make repeat visits faster. Save the Cache Rules Once you’ve added these caching rules, be sure to click Save to lock it in place.\nStep 3: Configuring Upstreams Next, let’s set up the backend server where your app will forward requests.\nGo to the Upstreams Menu\nClick on Upstreams from your dashboard. Add a New Upstream\nEnter the following details: Upstream Name: e.g., example-backend.\nProtocol: Select HTTPS.\nHost: Enter your backend server domain or IP (e.g., tomi-backend.int).\nPort: Set to 443.\nWeight: Set to 1.\nEnabled: Switch this On.\nSave the Upstream\nClick Save to apply the settings. Step 4: Configuring SSL It’s time to secure your app with SSL! Here’s how to configure SSL certificates:\nManage SSL Certificates\nIn the SSL menu, you’ll see a table to manage certificates. Make sure all of these details are in order before proceeding:\nCheck Gateway Clusters\nDouble-check that the IP addresses in the Gateway Clusters tab match your domain’s setup to avoid connection issues.\nStep 5: Go Live! Once all configurations are in place, hit the Release button to make your application live.\nThat’s it! Your app is now fully configured and live on OpenResty Edge. If you need help or have questions, feel free to reach out. Enjoy your new app setup!\nConclusion And that’s a wrap! You’ve successfully created your application, set up page rules, caching, and all the necessary configurations to get your app up and running on OpenResty Edge. With these steps in place, your app will be secure, fast, and ready for the world to see.\nIf you ever need to tweak or update things, just refer back to this guide. Happy deploying, and enjoy your smooth sailing with OpenResty Edge!\n","wordCount":"901","inLanguage":"en","image":"http://localhost:1313/%3Cimage%20path/url%3E","datePublished":"2024-09-06T00:00:00Z","dateModified":"2024-09-06T00:00:00Z","author":{"@type":"Person","name":"Tomi Mulhartono"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/creating-a-new-app-on-openresty-edge/"},"publisher":{"@type":"Organization","name":"Tomi Mulhartono","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Getting Started with Your New Application on OpenResty Edge: An Easy-to-Follow Tutorial</h1><div class=post-meta><span title='2024-09-06 00:00:00 +0000 +0000'>September 6, 2024</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Tomi Mulhartono</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#what-is-openresty-edge>What is OpenResty Edge?</a></li><li><a href=#lets-get-started>Let&rsquo;s Get Started!</a><ul><li><a href=#step-1-creating-your-new-application>Step 1: Creating Your New Application</a></li><li><a href=#step-2-configuring-page-rules>Step 2: Configuring Page Rules</a></li><li><a href=#step-3-configuring-upstreams>Step 3: Configuring Upstreams</a></li><li><a href=#step-4-configuring-ssl>Step 4: Configuring SSL</a></li><li><a href=#step-5-go-live>Step 5: Go Live!</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details></div><div class=post-content><p>Welcome aboard! If you’re gearing up to launch a new application on <strong>OpenResty Edge</strong>, you’re in the right place. Whether you’re a seasoned pro or just starting out, I’ll walk you through every step of the way with a dash of fun. Grab your favorite drink, settle in, and let’s dive into this setup adventure!</p><hr><h2 id=what-is-openresty-edge>What is OpenResty Edge?<a hidden class=anchor aria-hidden=true href=#what-is-openresty-edge>#</a></h2><p>OpenResty Edge is a powerful platform designed to manage and deliver your applications at the edge, optimizing performance, scalability, and security. It allows you to deploy and configure applications in a fast, flexible, and efficient way, using advanced features like traffic routing, custom rules, and SSL management. With OpenResty Edge, you can easily manage traffic, enhance security, and ensure smooth user experiences for your applications at scale.</p><hr><h2 id=lets-get-started>Let&rsquo;s Get Started!<a hidden class=anchor aria-hidden=true href=#lets-get-started>#</a></h2><h3 id=step-1-creating-your-new-application>Step 1: Creating Your New Application<a hidden class=anchor aria-hidden=true href=#step-1-creating-your-new-application>#</a></h3><p>Let’s get that new app live and kicking! Here’s how to create your first application on OpenResty Edge.</p><ol><li><p><strong>Login to Your OpenResty Edge Dashboard</strong></p><ul><li><p>Head over to the OpenResty Edge dashboard and log in using your credentials.</p><p><img loading=lazy src=/images/openresty-1.jpg alt=Screenshoot></p></li></ul></li><li><p><strong>Navigate to the Applications Section</strong></p><ul><li><p>Once you’re logged in, click on <strong>Applications</strong> from the top menu.</p></li><li><p>Inside the <strong>Applications</strong> section, click on the <strong>Create New App</strong> button to start the process.</p><p><img loading=lazy src=/images/openresty-2.jpg alt=Screenshoot></p></li></ul></li><li><p><strong>Fill Out the Application Details</strong></p><ul><li><p>Here’s a breakdown of the fields you’ll encounter:</p><ul><li><strong>Domains</strong>: Enter your domain name here (e.g., <code>tomi-example.co.id</code>).</li><li><strong>HTTP Port</strong>: You can leave this blank for now.</li><li><strong>HTTPS Port</strong>: Set to <code>443</code> for secure traffic.</li><li><strong>Label</strong>: Give your app a memorable label, like <code>Create a New Example App</code>.</li></ul><p><img loading=lazy src=/images/openresty-3.jpg alt=Screenshoot></p></li><li><p>Once you’ve filled everything out, click <strong>Save!</strong></p></li></ul></li></ol><hr><h3 id=step-2-configuring-page-rules>Step 2: Configuring Page Rules<a hidden class=anchor aria-hidden=true href=#step-2-configuring-page-rules>#</a></h3><p>Now, let’s configure some important rules to control how traffic behaves for your application.</p><ol><li><p><strong>Custom Edge Language Rules at the Beginning of This Page</strong></p><ul><li><p>To block specific IPs and log alerts, use the following rule:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>client-addr !~~ any <span class=o>(</span>192.168.100.1<span class=o>)</span> <span class=o>=</span>&gt;
</span></span><span class=line><span class=cl>    errlog<span class=o>(</span>level: <span class=s2>&#34;alert&#34;</span>, <span class=s2>&#34;SEC-00- Unauthorized IP!&#34;</span>, foreign-call<span class=o>(</span>module: <span class=s2>&#34;headers-log&#34;</span>, func: <span class=s2>&#34;go&#34;</span><span class=o>)</span> ~ req-body<span class=o>())</span>,
</span></span><span class=line><span class=cl>    exit<span class=o>(</span>444<span class=o>)</span><span class=p>;</span></span></span></code></pre></div><p><img loading=lazy src=/images/openresty-4.jpg alt=Screenshoot></p></li><li><p>This rule does two things:</p><ul><li>Blocks traffic from the IP <code>192.168.100.1</code>.</li><li>Logs an alert with the message &ldquo;Unauthorized IP!&rdquo;.</li></ul></li><li><p>After adding your custom rules, click <strong>Save</strong>.</p></li></ul></li><li><p><strong>Create New Rules</strong></p><p>Let’s move on to setting up some common rules you&rsquo;ll probably need.</p><p><img loading=lazy src=/images/openresty-10.jpg alt=Screenshoot></p><p><strong>Redirect HTTP to HTTPS</strong></p><p>To enhance security, redirect all HTTP traffic to HTTPS:</p><ul><li><p>Click <strong>New Rule</strong> in the Page Rules section.</p></li><li><p>Set up the condition:</p><ul><li><strong>When</strong> → Add a new condition:</li><li><strong>Variable</strong> → <strong>Scheme</strong></li><li><strong>Operator</strong> → <strong>String =</strong></li><li><strong>Value</strong> → <strong>http</strong></li></ul><p><img loading=lazy src=/images/openresty-5.jpg alt=Screenshoot></p></li><li><p>Add the action:</p><ul><li><p><strong>Action Type</strong> → <strong>Redirect</strong></p></li><li><p>Set the following fields:</p></li><li><p><strong>URI</strong> → Choose <strong>current</strong>.</p></li><li><p><strong>Scheme</strong> → Set this to <strong>https</strong>.</p></li><li><p><strong>Status</strong> Code → Set to <strong>302 Moved Temporarily</strong>.</p><p><img loading=lazy src=/images/openresty-6.jpg alt=Screenshoot></p></li></ul></li><li><p>This will ensure all users trying to access your site via HTTP will be securely redirected to HTTPS.</p></li></ul><p><strong>Set Proxy Header</strong></p><p>If you need specific headers to be passed to the backend server:</p><ul><li><p>Click <strong>New Rule</strong> again.</p></li><li><p>In the <strong>When</strong> section, add a new condition for <strong>Host</strong>:</p><ul><li><p><strong>Variable</strong> → <strong>Host</strong></p></li><li><p><strong>Value</strong> → Your domain (e.g., <code>tomi-example.co.id</code>).</p><p><img loading=lazy src=/images/openresty-7.jpg alt=Screenshoot></p></li></ul></li><li><p>Add the following actions:</p><ul><li><p><strong>Set Proxy Header</strong>: Set the <strong>Host</strong> header with your domain name.</p></li><li><p><strong>Append Proxy Header</strong>: Append the <strong>X-Forwarded-For</strong> header with the client address.</p><p><img loading=lazy src=/images/openresty-8.jpg alt=Screenshoot></p></li></ul></li><li><p>Under <strong>Proxy</strong> settings, turn <strong>Proxy</strong> On and select the upstream server you created earlier.</p><p><img loading=lazy src=/images/openresty-9.jpg alt=Screenshoot></p></li></ul><p><strong>Custom Edge Language Rules at the End of This Page</strong></p><ul><li><p>Wanna speed up your site? Caching static files like JavaScript, CSS, and images is a great way to do that. Here&rsquo;s the rule you need to add:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>uri-suffix<span class=o>(</span>
</span></span><span class=line><span class=cl>rx:s/<span class=se>\.</span><span class=o>(</span>?:js<span class=p>|</span>css<span class=p>|</span>xml<span class=o>)</span>.<span class=o>{</span>0,3<span class=o>}</span>$/<span class=o>)</span>,
</span></span><span class=line><span class=cl>req-method<span class=o>(</span><span class=s2>&#34;GET&#34;</span><span class=o>)=</span>&gt;
</span></span><span class=line><span class=cl>    enable-proxy-cache<span class=o>(</span>key: uri<span class=o>)</span>,
</span></span><span class=line><span class=cl>    enforce-proxy-cache<span class=o>(</span><span class=m>7</span> <span class=o>[</span>day<span class=o>])</span>,
</span></span><span class=line><span class=cl>    set-resp-header<span class=o>(</span><span class=s2>&#34;Cache-Control&#34;</span>, <span class=s2>&#34;public, max-age=604800, immutable&#34;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>uri-suffix<span class=o>(</span>
</span></span><span class=line><span class=cl>rx:s/<span class=se>\.</span><span class=o>(</span>?:gif<span class=p>|</span>png<span class=p>|</span>js<span class=p>|</span>css<span class=p>|</span>html<span class=p>|</span>jpg<span class=p>|</span>wof<span class=p>|</span>svg<span class=p>|</span>woff2<span class=p>|</span>ttf<span class=p>|</span>otf<span class=p>|</span>eot<span class=p>|</span>ico<span class=o>)</span>.<span class=o>{</span>0,5<span class=o>}</span>$/<span class=o>)</span>,
</span></span><span class=line><span class=cl>req-method<span class=o>(</span><span class=s2>&#34;GET&#34;</span><span class=o>)=</span>&gt;
</span></span><span class=line><span class=cl>    enable-proxy-cache<span class=o>(</span>key: uri<span class=o>)</span>,
</span></span><span class=line><span class=cl>    enforce-proxy-cache<span class=o>(</span><span class=m>365</span> <span class=o>[</span>day<span class=o>])</span>,
</span></span><span class=line><span class=cl>    set-resp-header<span class=o>(</span><span class=s2>&#34;Cache-Control&#34;</span>, <span class=s2>&#34;public, max-age=3153600, immutable&#34;</span><span class=o>)</span><span class=p>;</span></span></span></code></pre></div><p><img loading=lazy src=/images/openresty-11.jpg alt=Screenshoot></p></li><li><p>Here&rsquo;s the breakdown:</p><ul><li>JavaScript and CSS files: Cached for 7 days.</li><li>Other files like images: Cached for 365 days.</li><li>Cache-Control Header: Tells browsers to keep these files for the specified period, which helps make repeat visits faster.</li><li>Save the Cache Rules</li></ul></li><li><p>Once you’ve added these caching rules, be sure to click <strong>Save</strong> to lock it in place.</p></li></ul></li></ol><hr><h3 id=step-3-configuring-upstreams>Step 3: Configuring Upstreams<a hidden class=anchor aria-hidden=true href=#step-3-configuring-upstreams>#</a></h3><p>Next, let’s set up the backend server where your app will forward requests.</p><ol><li><p><strong>Go to the Upstreams Menu</strong></p><ul><li>Click on <strong>Upstreams</strong> from your dashboard.</li></ul></li><li><p><strong>Add a New Upstream</strong></p><ul><li>Enter the following details:<ul><li><p><strong>Upstream Name</strong>: e.g., <code>example-backend</code>.</p></li><li><p><strong>Protocol</strong>: Select <strong>HTTPS</strong>.</p></li><li><p><strong>Host</strong>: Enter your backend server domain or IP (e.g., <code>tomi-backend.int</code>).</p></li><li><p><strong>Port</strong>: Set to <strong>443</strong>.</p></li><li><p><strong>Weight</strong>: Set to <strong>1</strong>.</p></li><li><p><strong>Enabled</strong>: Switch this <strong>On</strong>.</p><p><img loading=lazy src=/images/openresty-12.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/openresty-13.jpg alt=Screenshoot></p></li></ul></li></ul></li><li><p><strong>Save the Upstream</strong></p><ul><li>Click <strong>Save</strong> to apply the settings.</li></ul></li></ol><h3 id=step-4-configuring-ssl>Step 4: Configuring SSL<a hidden class=anchor aria-hidden=true href=#step-4-configuring-ssl>#</a></h3><p>It’s time to secure your app with SSL! Here’s how to configure SSL certificates:</p><ol><li><p><strong>Manage SSL Certificates</strong></p><ul><li><p>In the <strong>SSL</strong> menu, you&rsquo;ll see a table to manage certificates. Make sure all of these details are in order before proceeding:</p><p><img loading=lazy src=/images/openresty-15.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/openresty-16.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/openresty-17.jpg alt=Screenshoot></p></li></ul></li><li><p><strong>Check Gateway Clusters</strong></p><ul><li><p>Double-check that the IP addresses in the Gateway Clusters tab match your domain&rsquo;s setup to avoid connection issues.</p><p><img loading=lazy src=/images/openresty-18.jpg alt=Screenshoot></p></li></ul></li></ol><hr><h3 id=step-5-go-live>Step 5: Go Live!<a hidden class=anchor aria-hidden=true href=#step-5-go-live>#</a></h3><p>Once all configurations are in place, hit the <strong>Release</strong> button to make your application live.</p><p><img loading=lazy src=/images/openresty-19.jpg alt=Screenshoot></p><p>That’s it! Your app is now fully configured and live on OpenResty Edge. If you need help or have questions, feel free to reach out. Enjoy your new app setup!</p><hr><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>And that&rsquo;s a wrap! You&rsquo;ve successfully created your application, set up page rules, caching, and all the necessary configurations to get your app up and running on OpenResty Edge. With these steps in place, your app will be secure, fast, and ready for the world to see.</p><p>If you ever need to tweak or update things, just refer back to this guide. Happy deploying, and enjoy your smooth sailing with OpenResty Edge!</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/cybersecurity/>Cybersecurity</a></li><li><a href=http://localhost:1313/tags/openresty/>OpenResty</a></li><li><a href=http://localhost:1313/tags/web-application-firewall/>Web Application Firewall</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/deploying-tpot-honeypot-on-gcp/><span class=title>« Prev</span><br><span>Watch Cyber Attacks Unfold: Set Up T-Pot Honeypot on Google Cloud Platform</span>
</a><a class=next href=http://localhost:1313/posts/integrating-grafana-slack-and-jira/><span class=title>Next »</span><br><span>Stay Ahead of Issues: How to Connect Grafana Alerts with Slack and Jira Using n8n</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Tomi Mulhartono</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>
<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Stay Ahead of Issues: How to Connect Grafana Alerts with Slack and Jira Using n8n | Tomi Mulhartono</title>
<meta name=keywords content="cybersecurity,Grafana,Slack,Jira,n8n,SOAR"><meta name=description content="So, you’re ready to up your game and make sure you never miss a critical update? Great choice! Setting up Grafana alerts and integrating them with Slack and Jira through n8n is a powerful way to keep your team on the ball. Let’s dive in and get those workflows automated!
Setting Up Grafana Alerts First up, let’s get your Grafana alerts configured so you’re always in the know. Here’s the lowdown on how to get your alerts up and running:"><meta name=author content="Tomi Mulhartono"><link rel=canonical href=https://canonical.url/to/page><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.4599eadb9eb2ad3d0a8d6827b41a8fda8f2f4af226b63466c09c5fddbc8706b7.css integrity="sha256-RZnq256yrT0KjWgntBqP2o8vSvImtjRmwJxf3byHBrc=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/integrating-grafana-slack-and-jira/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Stay Ahead of Issues: How to Connect Grafana Alerts with Slack and Jira Using n8n"><meta property="og:description" content="So, you’re ready to up your game and make sure you never miss a critical update? Great choice! Setting up Grafana alerts and integrating them with Slack and Jira through n8n is a powerful way to keep your team on the ball. Let’s dive in and get those workflows automated!
Setting Up Grafana Alerts First up, let’s get your Grafana alerts configured so you’re always in the know. Here’s the lowdown on how to get your alerts up and running:"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/integrating-grafana-slack-and-jira/"><meta property="og:image" content="http://localhost:1313/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-29T00:00:00+00:00"><meta property="article:modified_time" content="2024-08-29T00:00:00+00:00"><meta property="og:site_name" content="Tomi Mulhartono"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Cimage%20path/url%3E"><meta name=twitter:title content="Stay Ahead of Issues: How to Connect Grafana Alerts with Slack and Jira Using n8n"><meta name=twitter:description content="So, you’re ready to up your game and make sure you never miss a critical update? Great choice! Setting up Grafana alerts and integrating them with Slack and Jira through n8n is a powerful way to keep your team on the ball. Let’s dive in and get those workflows automated!
Setting Up Grafana Alerts First up, let’s get your Grafana alerts configured so you’re always in the know. Here’s the lowdown on how to get your alerts up and running:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Stay Ahead of Issues: How to Connect Grafana Alerts with Slack and Jira Using n8n","item":"http://localhost:1313/posts/integrating-grafana-slack-and-jira/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Stay Ahead of Issues: How to Connect Grafana Alerts with Slack and Jira Using n8n","name":"Stay Ahead of Issues: How to Connect Grafana Alerts with Slack and Jira Using n8n","description":"So, you’re ready to up your game and make sure you never miss a critical update? Great choice! Setting up Grafana alerts and integrating them with Slack and Jira through n8n is a powerful way to keep your team on the ball. Let’s dive in and get those workflows automated!\nSetting Up Grafana Alerts First up, let’s get your Grafana alerts configured so you’re always in the know. Here’s the lowdown on how to get your alerts up and running:","keywords":["cybersecurity","Grafana","Slack","Jira","n8n","SOAR"],"articleBody":"So, you’re ready to up your game and make sure you never miss a critical update? Great choice! Setting up Grafana alerts and integrating them with Slack and Jira through n8n is a powerful way to keep your team on the ball. Let’s dive in and get those workflows automated!\nSetting Up Grafana Alerts First up, let’s get your Grafana alerts configured so you’re always in the know. Here’s the lowdown on how to get your alerts up and running:\nPick Your Data Source Start by selecting where your data is coming from. Grafana’s got your back with a bunch of data source options.\nQuery Your Data Dive into the data you want to keep an eye on. Use queries to drill down to the metrics or logs you care about.\nNormalize Your Data Get your data in shape! Make sure it’s consistent and ready for analysis.\nSet Your Threshold Define what makes your alert go off. What’s the magic number or condition that means it’s time to pay attention?\nCreate Queries, Expressions, and Conditions Craft the queries and set the conditions that will trigger your alert.\nNote: Expressions are a Grafana-managed feature, so they’re only available if you’re using Grafana’s own alerting.\nHow Should Your Alerts Be Evaluated?\nDecide how often you want Grafana to check if your alert conditions are met. More frequent checks mean quicker notifications, but it might also mean more noise.\nLabels and Notifications\nThink about how you want to route your alerts. Adding labels can help you categorize and find your alerts more easily.\nAnnotations\nWant to add a little extra detail? Annotations let you include context in your notifications—like what caused the alert and which server it came from.\nReady to get started? With these steps, you’ll be on top of your data in no time!\nConfigure Grafana-managed alert rules Grafana-managed alerts are super flexible and let you pull data from any of our supported data sources. You can even combine data from different sources in one alert rule and use expressions to tweak your data and set up your alert conditions. Plus, you can include images in your notifications. Here’s how you can create and manage these alerts:\nStep 1: Set Alert Rule Name Click on Alerts \u0026 IRM -\u003e Alert rules -\u003e + New alert rule. Enter a name for your alert rule. This name helps you identify it in your list and shows up as the alertname label for all alerts created from this rule.\nStep 2: Define Query and Condition Set up a query to fetch the data you want and define a condition that must be met before the alert triggers.\nPick a data source. Choose a time range from the Options dropdown. Note: Grafana Alerting supports fixed relative time ranges like now-24hr: now, but not absolute time ranges (e.g., 2021-12-02 00:00:00 to 2021-12-05 23:59:59) or semi-relative time ranges (e.g., now/d to: now).\nAdd a query. To add more queries, click Add query.\nAll alert rules are managed by Grafana by default. If you prefer data source-managed alert rules, click Switch to data source-managed alert rule.\nAdd one or more expressions. a. Choose either Classic condition for a single alert rule or select Math, Reduce, and Resample options for separate alerts per series.\nb. Click Preview to check if the expression is working.\nTo add a recovery threshold, turn on the Custom recovery threshold toggle and enter a value for when your alert rule should stop firing. You can only add one recovery threshold in a query, and it must be the alert condition.\nClick Set as alert condition on the query or expression you want to use as your alert condition. Step 3: Set Alert Evaluation Behavior Determine how often the alert rule should be evaluated and how quickly it should change its state.\nChoose a folder or click + New folder. Select an evaluation group or click + New evaluation group. If you’re creating a new evaluation group, set the interval for the group.\nAll rules within the same group are evaluated together over the same time interval.\nSet a pending period. The pending period is how long an alert rule can be in breach of the condition before it triggers.\nOnce the condition is met, the alert goes into the Pending state. If it stays active for the entire pending period, it changes to the Firing state; otherwise, it goes back to the Normal state.\nTurn on pause alert notifications if needed. Note: You can pause alert rule evaluation to avoid noisy alerts while you’re tuning them. Pausing stops evaluation and doesn’t create alert instances. This is different from mute timings, which stop notifications but still allow evaluation and creation of alert instances.\nIn Configure no data and error handling, set how you want the alert to behave when there’s no data. Step 4: Configure Labels and Notifications Add labels to organize your alert rules and set up notification policies for your alerts.\nAdd labels if needed. You can select existing key-value pairs from a dropdown or enter new ones.\nChoose how notifications are sent when an alert fires by either selecting a contact point or using a notification policy. Select contact point\na. Pick this option to select an existing contact point. All notifications for this alert rule will go to this contact point automatically, bypassing notification policies.\nb. Optionally, select a mute timing and groupings to define when notifications shouldn’t be sent.\nNote: An auto-generated notification policy is created. Only admins can view these auto-generated policies in the Notification policies list view. Any changes need to be made in the alert rules form.\nUse notification policy\na. Choose this to use the notification policy tree for routing notifications.\nNote: All alert rules and instances follow the default notification policy. If there are no nested policies or if no nested policies match the labels in the alert rule or instance, the default policy is used.\nb. Preview your alert instance routing setup.\nBased on the labels added, alert instances will be routed according to the notification policies shown.\nc. Expand each notification policy below to view more details.\nd. Click See details to check alert routing details and an email preview.\nStep 5: Add Annotations Add annotations to provide extra context in your alert notification messages.\nAnnotations add metadata to give more information about the alert. For instance, a Summary annotation can explain which value caused the alert or which server it happened on.\nOptional: Add a summary. A brief explanation of what happened and why. Optional: Add a description. Detail what the alert rule does. Optional: Add a Runbook URL. A webpage link to your runbook for the alert. Optional: Add a custom annotation. Optional: Add a dashboard and panel link. Link alerts to specific panels in a dashboard. Note: Currently, alerts are supported only in time series and alert list visualizations.\nClick Save rule. Configure Contact Points Use contact points to pick how you want to get notified when your alert rules go off. You can add, edit, delete, export, and test a contact point.\nStep 1: Add a Contact Point Here’s how to add a contact point:\nIn the left-side menu, click on Alerts \u0026 IRM and then Alerting. Click on Contact Points. From the Choose Alertmanager dropdown, pick an Alertmanager. Grafana Alertmanager is the default option. On the Contact Points tab, click + Add Contact Point. Enter a name for your contact point. From Integration, select the type and fill in the required fields. For example, if you choose email, enter the email addresses. Or if you choose Slack, enter the Slack channel and the users you want to contact. Some integrations, like email or Webhook, have optional settings. In Optional Settings, you can add extra settings for the integration. In Notification Settings, you can choose to Disable Resolved Message if you don’t want to be notified when an alert is resolved. If you want to add another contact point integration, click Add Contact Point Integration and repeat steps 6 through 8. Save your changes. Step 2: Test a Contact Point Here’s how to test a contact point:\nIn the left-side menu, click on Alerts \u0026 IRM and then Alerting. Click on Contact Points to see your list of contact points. Find the contact point you want to test, then click Edit. You can also create a new contact point if needed. Click Test to open the testing dialog box. Choose whether to send a predefined test notification or go custom by adding your own annotations and labels. Click Send Test Notification to trigger the alert. Configure Notification Policies Notification policies help you decide how alerts are sent to your contact points. They work in a tree-like structure where each policy can have one or more nested policies. Except for the default policy, each one can match specific alert labels.\nStep 1: Add a Nested Policy You can create a nested policy under the default one or under any existing nested policy. Here’s how you do it:\nGo to the left-side menu and click Alerts \u0026 IRM, then Alerting. Click Notification policies. Click +New nested policy from the default policy. In the Matching labels section, add one or more rules to match alert labels. From the Contact point dropdown, choose the contact point to send notifications to if an alert matches this specific policy and not any nested policies. [Optional] If you want alerts to keep matching sibling policies after finding a match, enable Continue matching subsequent sibling nodes. This option can result in multiple notifications for the same alert.\n[Optional] To use the same grouping settings as the default policy, enable Override grouping. If this isn’t enabled, it’ll use the default policy’s grouping settings.\n[Optional] To override the timing options set in the group notification policy, enable Override general timings.\nClick Save policy to apply your changes.\nBuild Your n8n Create custom workflows between Grafana, Slack, and Jira by picking triggers and actions. Each node comes with general settings, plus app-specific options you can tweak. You can also use the HTTP Request node to pull data from any app or service with a REST API. Ready to bring it all together? Here’s how you can set up a workflow:\nHow to Connect Grafana, Slack, and Jira Step 1: Set up n8n First, make sure n8n is installed and running:\nInstall n8n on any platform using npm or Docker. Or, let n8n handle it for you with its cloud hosting. Step 2: Create a New Workflow to Connect Grafana, Slack, and Jira Open n8n, go to the Workflows tab, and click Add workflow to start a new one.\nStep 3: Add the First Step Decide what will kick off your workflow: a schedule, a webhook call, another workflow, or manually. Sometimes Grafana, Slack, or Jira can be your starting point. Just click Open nodes panel, search for Grafana, Slack, or Jira, or choose a trigger. For this case, drag the webhook node onto the canvas—it’ll serve as the contact point. Just like before, copy and paste the URL there.\nStep 4: Add the Slack Node Drag the Slack node onto the canvas. Choose what you want Slack to do before dragging.\nStep 5: Authenticate Slack Click on the Slack node, then select Select credential next to the Credential to connect with field. Follow the prompts to link n8n to your Slack account.\nStep 6: Add the Jira Node Drag the Jira node from the nodes panel to the workflow canvas. Choose the action you want Jira to perform before dragging, such as creating an issue or updating a task.\nStep 7: Authenticate Jira Click on the Jira node, then click the Select credential dropdown option next to the Credential to connect with field. Follow the instructions to connect n8n to your Jira account. Make sure you have the right permissions in Jira to perform the desired actions.\nStep 8: Configure Slack and Jira Nodes Click on each node to adjust settings. On the left, you’ll see the input data. In the middle, set up parameters like resources and operations. The output will appear on the right.\nStep 9: Connect Webhook, Slack, and Jira Link the nodes together in the order you need. For example, you can connect Grafana’s Webhook output to Slack, then link Slack’s output to Jira, or rearrange them to fit your workflow.\nStep 10: Customize Your Webhook, Slack, and Jira Integration Use n8n’s core nodes to shape the data and extend your setup:\nSplitting: IF, Switch Merging: Merge, Compare Datasets Looping: IF, Loop Over Items Waiting: Wait Sub-workflows: Execute Workflow, Execute Workflow Trigger Error Handling: Stop And Error, Error Trigger Code: Write custom JavaScript or Python code and run it within your workflow. Step 11: Save and Activate Workflow After configuring Webhook (Grafana), Slack, Jira, and any extra nodes, save your workflow and activate it. Once active, the workflow will automatically run whenever a trigger node gets input or meets a condition. New workflows start deactivated by default.\nStep 12: Test the Workflow Run the workflow to see if everything’s working between Webhook (Grafana), Slack, and Jira. Depending on your setup, data should move smoothly between them. If something goes wrong, you can debug by checking past runs to spot and fix mistakes.\nWrap-Up Setting up Grafana alerts and integrating with tools like Slack and Jira boosts your monitoring and incident management by automating notifications and streamlining responses to critical issues. With your alerts, contact points, and notification policies in place, your setup is ready to keep you informed and proactive. Experiment with conditions, refine alerts, and customize integrations to fit your needs. This powerful combo helps you stay on top of your data, tackle issues before they escalate, and keep everything running smoothly.\nHappy monitoring, and may your alerts always be insightful!\n","wordCount":"2306","inLanguage":"en","image":"http://localhost:1313/%3Cimage%20path/url%3E","datePublished":"2024-08-29T00:00:00Z","dateModified":"2024-08-29T00:00:00Z","author":{"@type":"Person","name":"Tomi Mulhartono"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/integrating-grafana-slack-and-jira/"},"publisher":{"@type":"Organization","name":"Tomi Mulhartono","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Stay Ahead of Issues: How to Connect Grafana Alerts with Slack and Jira Using n8n</h1><div class=post-meta><span title='2024-08-29 00:00:00 +0000 +0000'>August 29, 2024</span>&nbsp;·&nbsp;11 min&nbsp;·&nbsp;Tomi Mulhartono</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#setting-up-grafana-alerts>Setting Up Grafana Alerts</a><ul><li><a href=#configure-grafana-managed-alert-rules>Configure Grafana-managed alert rules</a><ul><li><a href=#step-1-set-alert-rule-name>Step 1: Set Alert Rule Name</a></li><li><a href=#step-2-define-query-and-condition>Step 2: Define Query and Condition</a></li><li><a href=#step-3-set-alert-evaluation-behavior>Step 3: Set Alert Evaluation Behavior</a></li><li><a href=#step-4-configure-labels-and-notifications>Step 4: Configure Labels and Notifications</a></li><li><a href=#step-5-add-annotations>Step 5: Add Annotations</a></li></ul></li><li><a href=#configure-contact-points>Configure Contact Points</a><ul><li><a href=#step-1-add-a-contact-point>Step 1: Add a Contact Point</a></li><li><a href=#step-2-test-a-contact-point>Step 2: Test a Contact Point</a></li></ul></li><li><a href=#configure-notification-policies>Configure Notification Policies</a><ul><li><a href=#step-1-add-a-nested-policy>Step 1: Add a Nested Policy</a></li></ul></li></ul></li><li><a href=#build-your-n8n>Build Your n8n</a><ul><li><a href=#how-to-connect-grafana-slack-and-jira>How to Connect Grafana, Slack, and Jira</a><ul><li><a href=#step-1-set-up-n8n>Step 1: Set up n8n</a></li><li><a href=#step-2-create-a-new-workflow-to-connect-grafana-slack-and-jira>Step 2: Create a New Workflow to Connect Grafana, Slack, and Jira</a></li><li><a href=#step-3-add-the-first-step>Step 3: Add the First Step</a></li><li><a href=#step-4-add-the-slack-node>Step 4: Add the Slack Node</a></li><li><a href=#step-5-authenticate-slack>Step 5: Authenticate Slack</a></li><li><a href=#step-6-add-the-jira-node>Step 6: Add the Jira Node</a></li><li><a href=#step-7-authenticate-jira>Step 7: Authenticate Jira</a></li><li><a href=#step-8-configure-slack-and-jira-nodes>Step 8: Configure Slack and Jira Nodes</a></li><li><a href=#step-9-connect-webhook-slack-and-jira>Step 9: Connect Webhook, Slack, and Jira</a></li><li><a href=#step-10-customize-your-webhook-slack-and-jira-integration>Step 10: Customize Your Webhook, Slack, and Jira Integration</a></li><li><a href=#step-11-save-and-activate-workflow>Step 11: Save and Activate Workflow</a></li><li><a href=#step-12-test-the-workflow>Step 12: Test the Workflow</a></li></ul></li></ul></li><li><a href=#wrap-up>Wrap-Up</a></li></ul></nav></div></details></div><div class=post-content><p>So, you’re ready to up your game and make sure you never miss a critical update? Great choice! Setting up Grafana alerts and integrating them with Slack and Jira through n8n is a powerful way to keep your team on the ball. Let’s dive in and get those workflows automated!</p><hr><h2 id=setting-up-grafana-alerts>Setting Up Grafana Alerts<a hidden class=anchor aria-hidden=true href=#setting-up-grafana-alerts>#</a></h2><p>First up, let’s get your Grafana alerts configured so you’re always in the know. Here’s the lowdown on how to get your alerts up and running:</p><ol><li>Pick Your Data Source</li></ol><p>Start by selecting where your data is coming from. Grafana’s got your back with a bunch of data source options.</p><ol start=2><li>Query Your Data</li></ol><p>Dive into the data you want to keep an eye on. Use queries to drill down to the metrics or logs you care about.</p><ol start=3><li>Normalize Your Data</li></ol><p>Get your data in shape! Make sure it’s consistent and ready for analysis.</p><ol start=4><li>Set Your Threshold</li></ol><p>Define what makes your alert go off. What’s the magic number or condition that means it’s time to pay attention?</p><ol start=5><li>Create Queries, Expressions, and Conditions</li></ol><p>Craft the queries and set the conditions that will trigger your alert.</p><blockquote><p><strong>Note:</strong> Expressions are a Grafana-managed feature, so they’re only available if you’re using Grafana&rsquo;s own alerting.</p></blockquote><p><strong>How Should Your Alerts Be Evaluated?</strong></p><p>Decide how often you want Grafana to check if your alert conditions are met. More frequent checks mean quicker notifications, but it might also mean more noise.</p><p><strong>Labels and Notifications</strong></p><p>Think about how you want to route your alerts. Adding labels can help you categorize and find your alerts more easily.</p><p><strong>Annotations</strong></p><p>Want to add a little extra detail? Annotations let you include context in your notifications—like what caused the alert and which server it came from.</p><p>Ready to get started? With these steps, you’ll be on top of your data in no time!</p><hr><h3 id=configure-grafana-managed-alert-rules>Configure Grafana-managed alert rules<a hidden class=anchor aria-hidden=true href=#configure-grafana-managed-alert-rules>#</a></h3><p>Grafana-managed alerts are super flexible and let you pull data from any of our supported data sources. You can even combine data from different sources in one alert rule and use expressions to tweak your data and set up your alert conditions. Plus, you can include images in your notifications. Here’s how you can create and manage these alerts:</p><h4 id=step-1-set-alert-rule-name>Step 1: Set Alert Rule Name<a hidden class=anchor aria-hidden=true href=#step-1-set-alert-rule-name>#</a></h4><ol><li>Click on <strong>Alerts & IRM</strong> -> <strong>Alert rules</strong> -> <strong>+ New alert rule.</strong></li></ol><p><img loading=lazy src=/images/n8n-1.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-2.jpg alt=Screenshoot></p><ol start=2><li>Enter a name for your alert rule.</li></ol><p>This name helps you identify it in your list and shows up as the <code>alertname</code> label for all alerts created from this rule.</p><p><img loading=lazy src=/images/n8n-3.jpg alt=Screenshoot></p><h4 id=step-2-define-query-and-condition>Step 2: Define Query and Condition<a hidden class=anchor aria-hidden=true href=#step-2-define-query-and-condition>#</a></h4><p>Set up a query to fetch the data you want and define a condition that must be met before the alert triggers.</p><ol><li>Pick a data source.</li></ol><p><img loading=lazy src=/images/n8n-4.jpg alt=Screenshoot></p><ol start=2><li>Choose a time range from the <strong>Options</strong> dropdown.</li></ol><blockquote><p><strong>Note:</strong> Grafana Alerting supports fixed relative time ranges like <code>now-24hr: now</code>, but not absolute time ranges (e.g., <code>2021-12-02 00:00:00 to 2021-12-05 23:59:59</code>) or semi-relative time ranges (e.g., <code>now/d to: now</code>).</p></blockquote><p><img loading=lazy src=/images/n8n-5.jpg alt=Screenshoot></p><ol start=3><li>Add a query.</li></ol><p>To add more queries, click <strong>Add query.</strong></p><p>All alert rules are managed by Grafana by default. If you prefer data source-managed alert rules, click <strong>Switch to data source-managed alert rule.</strong></p><p><img loading=lazy src=/images/n8n-6.jpg alt=Screenshoot></p><ol start=4><li>Add one or more expressions.</li></ol><p>a. Choose either <strong>Classic condition</strong> for a single alert rule or select <strong>Math,</strong> <strong>Reduce,</strong> and <strong>Resample</strong> options for separate alerts per series.</p><p><img loading=lazy src=/images/n8n-7.jpg alt=Screenshoot></p><p>b. Click <strong>Preview</strong> to check if the expression is working.</p><ol start=5><li>To add a recovery threshold, turn on the <strong>Custom recovery threshold</strong> toggle and enter a value for when your alert rule should stop firing.</li></ol><p>You can only add one recovery threshold in a query, and it must be the alert condition.</p><p><img loading=lazy src=/images/n8n-8.jpg alt=Screenshoot></p><ol start=6><li>Click <strong>Set as alert condition</strong> on the query or expression you want to use as your alert condition.</li></ol><p><img loading=lazy src=/images/n8n-9.jpg alt=Screenshoot></p><h4 id=step-3-set-alert-evaluation-behavior>Step 3: Set Alert Evaluation Behavior<a hidden class=anchor aria-hidden=true href=#step-3-set-alert-evaluation-behavior>#</a></h4><p>Determine how often the alert rule should be evaluated and how quickly it should change its state.</p><ol><li>Choose a folder or click <strong>+ New folder.</strong></li></ol><p><img loading=lazy src=/images/n8n-10.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-11.jpg alt=Screenshoot></p><ol start=2><li>Select an evaluation group or click <strong>+ New evaluation group.</strong></li></ol><p>If you’re creating a new evaluation group, set the interval for the group.</p><p>All rules within the same group are evaluated together over the same time interval.</p><p><img loading=lazy src=/images/n8n-12.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-13.jpg alt=Screenshoot></p><ol start=3><li>Set a pending period.</li></ol><p>The pending period is how long an alert rule can be in breach of the condition before it triggers.</p><p>Once the condition is met, the alert goes into the <strong>Pending</strong> state. If it stays active for the entire pending period, it changes to the <strong>Firing</strong> state; otherwise, it goes back to the <strong>Normal</strong> state.</p><p><img loading=lazy src=/images/n8n-14.jpg alt=Screenshoot></p><ol start=4><li>Turn on pause alert notifications if needed.</li></ol><blockquote><p><strong>Note:</strong> You can pause alert rule evaluation to avoid noisy alerts while you’re tuning them. Pausing stops evaluation and doesn’t create alert instances. This is different from mute timings, which stop notifications but still allow evaluation and creation of alert instances.</p></blockquote><p><img loading=lazy src=/images/n8n-15.jpg alt=Screenshoot></p><ol start=5><li>In <strong>Configure no data and error handling</strong>, set how you want the alert to behave when there’s no data.</li></ol><p><img loading=lazy src=/images/n8n-16.jpg alt=Screenshoot></p><h4 id=step-4-configure-labels-and-notifications>Step 4: Configure Labels and Notifications<a hidden class=anchor aria-hidden=true href=#step-4-configure-labels-and-notifications>#</a></h4><p>Add labels to organize your alert rules and set up notification policies for your alerts.</p><ol><li>Add labels if needed.</li></ol><p>You can select existing key-value pairs from a dropdown or enter new ones.</p><p><img loading=lazy src=/images/n8n-17.jpg alt=Screenshoot></p><ol start=2><li>Choose how notifications are sent when an alert fires by either selecting a <strong>contact point</strong> or using a <strong>notification policy.</strong></li></ol><p><img loading=lazy src=/images/n8n-18.jpg alt=Screenshoot></p><p><strong>Select contact point</strong></p><p>a. Pick this option to select an existing contact point.
All notifications for this alert rule will go to this contact point automatically, bypassing notification policies.</p><p>b. Optionally, select a mute timing and groupings to define when notifications shouldn’t be sent.</p><blockquote><p><strong>Note:</strong> An auto-generated notification policy is created. Only admins can view these auto-generated policies in the <strong>Notification policies</strong> list view. Any changes need to be made in the alert rules form.</p></blockquote><p><strong>Use notification policy</strong></p><p>a. Choose this to use the notification policy tree for routing notifications.</p><blockquote><p><strong>Note:</strong> All alert rules and instances follow the default notification policy. If there are no nested policies or if no nested policies match the labels in the alert rule or instance, the default policy is used.</p></blockquote><p>b. Preview your alert instance routing setup.</p><p>Based on the labels added, alert instances will be routed according to the notification policies shown.</p><p>c. Expand each notification policy below to view more details.</p><p>d. Click <strong>See details</strong> to check alert routing details and an email preview.</p><h4 id=step-5-add-annotations>Step 5: Add Annotations<a hidden class=anchor aria-hidden=true href=#step-5-add-annotations>#</a></h4><p>Add annotations to provide extra context in your alert notification messages.</p><p>Annotations add metadata to give more information about the alert. For instance, a <strong>Summary</strong> annotation can explain which value caused the alert or which server it happened on.</p><p><img loading=lazy src=/images/n8n-19.jpg alt=Screenshoot></p><ol><li>Optional: Add a summary.
A brief explanation of what happened and why.</li><li>Optional: Add a description.
Detail what the alert rule does.</li><li>Optional: Add a Runbook URL.
A webpage link to your runbook for the alert.</li><li>Optional: Add a custom annotation.</li><li>Optional: Add a <strong>dashboard and panel link.</strong>
Link alerts to specific panels in a dashboard.</li></ol><blockquote><p><strong>Note:</strong> Currently, alerts are supported only in time series and alert list visualizations.</p></blockquote><ol start=6><li>Click <strong>Save rule.</strong></li></ol><hr><h3 id=configure-contact-points>Configure Contact Points<a hidden class=anchor aria-hidden=true href=#configure-contact-points>#</a></h3><p>Use contact points to pick how you want to get notified when your alert rules go off. You can add, edit, delete, export, and test a contact point.</p><h4 id=step-1-add-a-contact-point>Step 1: Add a Contact Point<a hidden class=anchor aria-hidden=true href=#step-1-add-a-contact-point>#</a></h4><p>Here’s how to add a contact point:</p><ol><li>In the left-side menu, click on <strong>Alerts & IRM</strong> and then <strong>Alerting.</strong> Click on <strong>Contact Points.</strong></li></ol><p><img loading=lazy src=/images/n8n-20.jpg alt=Screenshoot></p><ol start=2><li>From the <strong>Choose Alertmanager</strong> dropdown, pick an Alertmanager. <strong>Grafana Alertmanager</strong> is the default option.</li></ol><p><img loading=lazy src=/images/n8n-21.jpg alt=Screenshoot></p><ol start=3><li>On the <strong>Contact Points</strong> tab, click <strong>+ Add Contact Point.</strong></li></ol><p><img loading=lazy src=/images/n8n-22.jpg alt=Screenshoot></p><ol start=4><li>Enter a name for your contact point.</li></ol><p><img loading=lazy src=/images/n8n-23.jpg alt=Screenshoot></p><ol start=5><li>From <strong>Integration</strong>, select the type and fill in the required fields. For example, if you choose email, enter the email addresses. Or if you choose Slack, enter the Slack channel and the users you want to contact.</li></ol><p><img loading=lazy src=/images/n8n-24.jpg alt=Screenshoot></p><ol start=6><li>Some integrations, like email or Webhook, have optional settings. In <strong>Optional Settings</strong>, you can add extra settings for the integration.</li></ol><p><img loading=lazy src=/images/n8n-25.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-26.jpg alt=Screenshoot></p><ol start=7><li>In Notification Settings, you can choose to <strong>Disable Resolved Message</strong> if you don’t want to be notified when an alert is resolved.</li></ol><p><img loading=lazy src=/images/n8n-27.jpg alt=Screenshoot></p><ol start=8><li>If you want to add another contact point integration, click <strong>Add Contact Point Integration</strong> and repeat steps 6 through 8.</li><li>Save your changes.</li></ol><h4 id=step-2-test-a-contact-point>Step 2: Test a Contact Point<a hidden class=anchor aria-hidden=true href=#step-2-test-a-contact-point>#</a></h4><p>Here’s how to test a contact point:</p><ol><li>In the left-side menu, click on <strong>Alerts & IRM</strong> and then <strong>Alerting.</strong></li><li>Click on <strong>Contact Points</strong> to see your list of contact points.</li><li>Find the contact point you want to test, then click <strong>Edit.</strong> You can also create a new contact point if needed.</li><li>Click <strong>Test</strong> to open the testing dialog box.
<img loading=lazy src=/images/n8n-28.jpg alt=Screenshoot></li><li>Choose whether to send a predefined test notification or go custom by adding your own annotations and labels.
<img loading=lazy src=/images/n8n-29.jpg alt=Screenshoot></li><li>Click <strong>Send Test Notification</strong> to trigger the alert.</li></ol><hr><h3 id=configure-notification-policies>Configure Notification Policies<a hidden class=anchor aria-hidden=true href=#configure-notification-policies>#</a></h3><p>Notification policies help you decide how alerts are sent to your contact points. They work in a tree-like structure where each policy can have one or more nested policies. Except for the default policy, each one can match specific alert labels.</p><h4 id=step-1-add-a-nested-policy>Step 1: Add a Nested Policy<a hidden class=anchor aria-hidden=true href=#step-1-add-a-nested-policy>#</a></h4><p>You can create a nested policy under the default one or under any existing nested policy. Here’s how you do it:</p><ol><li>Go to the left-side menu and click <strong>Alerts & IRM</strong>, then <strong>Alerting.</strong> Click <strong>Notification policies.</strong></li></ol><p><img loading=lazy src=/images/n8n-30.jpg alt=Screenshoot></p><ol start=2><li>Click <strong>+New nested policy</strong> from the default policy.</li></ol><p><img loading=lazy src=/images/n8n-31.jpg alt=Screenshoot></p><ol start=3><li>In the <strong>Matching labels</strong> section, add one or more rules to match alert labels.</li></ol><p><img loading=lazy src=/images/n8n-32.jpg alt=Screenshoot></p><ol start=4><li>From the <strong>Contact point</strong> dropdown, choose the contact point to send notifications to if an alert matches this specific policy and not any nested policies.</li></ol><p><img loading=lazy src=/images/n8n-33.jpg alt=Screenshoot></p><ol start=5><li><p>[Optional] If you want alerts to keep matching sibling policies after finding a match, enable <strong>Continue matching subsequent sibling nodes.</strong> This option can result in multiple notifications for the same alert.</p></li><li><p>[Optional] To use the same grouping settings as the default policy, enable <strong>Override grouping.</strong> If this isn’t enabled, it’ll use the default policy’s grouping settings.</p></li><li><p>[Optional] To override the timing options set in the group notification policy, enable <strong>Override general timings.</strong></p></li><li><p>Click <strong>Save policy</strong> to apply your changes.</p></li></ol><hr><h2 id=build-your-n8n>Build Your n8n<a hidden class=anchor aria-hidden=true href=#build-your-n8n>#</a></h2><p>Create custom workflows between Grafana, Slack, and Jira by picking triggers and actions. Each node comes with general settings, plus app-specific options you can tweak. You can also use the HTTP Request node to pull data from any app or service with a REST API. Ready to bring it all together? Here’s how you can set up a workflow:</p><h3 id=how-to-connect-grafana-slack-and-jira>How to Connect Grafana, Slack, and Jira<a hidden class=anchor aria-hidden=true href=#how-to-connect-grafana-slack-and-jira>#</a></h3><h4 id=step-1-set-up-n8n>Step 1: Set up n8n<a hidden class=anchor aria-hidden=true href=#step-1-set-up-n8n>#</a></h4><p>First, make sure n8n is installed and running:</p><ul><li>Install n8n on any platform <a href="https://docs.n8n.io/hosting/?_gl=1*b93jkw*_gcl_au*MTc4NTkwNTY1Ny4xNzI1NzgwNTE1*_ga*NjMwNjM4MTAuMTcyNTc4MDUxOA..*_ga_0SC4FF2FH9*MTcyNTc4MDUxOC4xLjEuMTcyNTc4MDU0My4zNS4wLjA./">using npm or Docker.</a></li><li>Or, let n8n handle it for you with its <a href=https://n8n.io/pricing/>cloud hosting.</a></li></ul><h4 id=step-2-create-a-new-workflow-to-connect-grafana-slack-and-jira>Step 2: Create a New Workflow to Connect Grafana, Slack, and Jira<a hidden class=anchor aria-hidden=true href=#step-2-create-a-new-workflow-to-connect-grafana-slack-and-jira>#</a></h4><p>Open n8n, go to the Workflows tab, and click <strong>Add workflow</strong> to start a new one.</p><p><img loading=lazy src=/images/n8n-34.jpg alt=Screenshoot></p><h4 id=step-3-add-the-first-step>Step 3: Add the First Step<a hidden class=anchor aria-hidden=true href=#step-3-add-the-first-step>#</a></h4><p>Decide what will kick off your workflow: a schedule, a webhook call, another workflow, or manually. Sometimes Grafana, Slack, or Jira can be your starting point. Just click <strong>Open nodes panel,</strong> search for Grafana, Slack, or Jira, or choose a trigger. For this case, drag the webhook node onto the canvas—it&rsquo;ll serve as the contact point. Just like before, copy and paste the URL there.</p><p><img loading=lazy src=/images/n8n-35.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-36.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-37.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-38.jpg alt=Screenshoot></p><h4 id=step-4-add-the-slack-node>Step 4: Add the Slack Node<a hidden class=anchor aria-hidden=true href=#step-4-add-the-slack-node>#</a></h4><p>Drag the Slack node onto the canvas. Choose what you want Slack to do before dragging.</p><p><img loading=lazy src=/images/n8n-39.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-40.jpg alt=Screenshoot></p><h4 id=step-5-authenticate-slack>Step 5: Authenticate Slack<a hidden class=anchor aria-hidden=true href=#step-5-authenticate-slack>#</a></h4><p>Click on the Slack node, then select <strong>Select credential</strong> next to the <strong>Credential to connect with</strong> field. Follow the prompts to link n8n to your Slack account.</p><p><img loading=lazy src=/images/n8n-41.jpg alt=Screenshoot></p><h4 id=step-6-add-the-jira-node>Step 6: Add the Jira Node<a hidden class=anchor aria-hidden=true href=#step-6-add-the-jira-node>#</a></h4><p>Drag the Jira node from the nodes panel to the workflow canvas. Choose the action you want Jira to perform before dragging, such as creating an issue or updating a task.</p><p><img loading=lazy src=/images/n8n-42.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-43.jpg alt=Screenshoot></p><h4 id=step-7-authenticate-jira>Step 7: Authenticate Jira<a hidden class=anchor aria-hidden=true href=#step-7-authenticate-jira>#</a></h4><p>Click on the Jira node, then click the <strong>Select credential</strong> dropdown option next to the <strong>Credential to connect with</strong> field. Follow the instructions to connect n8n to your Jira account. Make sure you have the right permissions in Jira to perform the desired actions.</p><p><img loading=lazy src=/images/n8n-44.jpg alt=Screenshoot></p><h4 id=step-8-configure-slack-and-jira-nodes>Step 8: Configure Slack and Jira Nodes<a hidden class=anchor aria-hidden=true href=#step-8-configure-slack-and-jira-nodes>#</a></h4><p>Click on each node to adjust settings. On the left, you’ll see the input data. In the middle, set up parameters like resources and operations. The output will appear on the right.</p><p><img loading=lazy src=/images/n8n-45.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-46.jpg alt=Screenshoot></p><h4 id=step-9-connect-webhook-slack-and-jira>Step 9: Connect Webhook, Slack, and Jira<a hidden class=anchor aria-hidden=true href=#step-9-connect-webhook-slack-and-jira>#</a></h4><p>Link the nodes together in the order you need. For example, you can connect Grafana’s Webhook output to Slack, then link Slack’s output to Jira, or rearrange them to fit your workflow.</p><p><img loading=lazy src=/images/n8n-47.jpg alt=Screenshoot></p><h4 id=step-10-customize-your-webhook-slack-and-jira-integration>Step 10: Customize Your Webhook, Slack, and Jira Integration<a hidden class=anchor aria-hidden=true href=#step-10-customize-your-webhook-slack-and-jira-integration>#</a></h4><p>Use n8n’s core nodes to shape the data and extend your setup:</p><ul><li><strong>Splitting:</strong> IF, Switch</li><li><strong>Merging:</strong> Merge, Compare Datasets</li><li><strong>Looping:</strong> IF, Loop Over Items</li><li><strong>Waiting:</strong> Wait</li><li><strong>Sub-workflows:</strong> Execute Workflow, Execute Workflow Trigger</li><li><strong>Error Handling:</strong> Stop And Error, Error Trigger</li><li><strong>Code:</strong> Write custom JavaScript or Python code and run it within your workflow.</li></ul><p><img loading=lazy src=/images/n8n-48.jpg alt=Screenshoot></p><h4 id=step-11-save-and-activate-workflow>Step 11: Save and Activate Workflow<a hidden class=anchor aria-hidden=true href=#step-11-save-and-activate-workflow>#</a></h4><p>After configuring Webhook (Grafana), Slack, Jira, and any extra nodes, save your workflow and activate it. Once active, the workflow will automatically run whenever a trigger node gets input or meets a condition. New workflows start deactivated by default.</p><p><img loading=lazy src=/images/n8n-49.jpg alt=Screenshoot></p><h4 id=step-12-test-the-workflow>Step 12: Test the Workflow<a hidden class=anchor aria-hidden=true href=#step-12-test-the-workflow>#</a></h4><p>Run the workflow to see if everything’s working between Webhook (Grafana), Slack, and Jira. Depending on your setup, data should move smoothly between them. If something goes wrong, you can debug by checking past runs to spot and fix mistakes.</p><p><img loading=lazy src=/images/n8n-50.jpg alt=Screenshoot></p><p><img loading=lazy src=/images/n8n-51.jpg alt=Screenshoot></p><hr><h2 id=wrap-up>Wrap-Up<a hidden class=anchor aria-hidden=true href=#wrap-up>#</a></h2><p>Setting up Grafana alerts and integrating with tools like Slack and Jira boosts your monitoring and incident management by automating notifications and streamlining responses to critical issues. With your alerts, contact points, and notification policies in place, your setup is ready to keep you informed and proactive. Experiment with conditions, refine alerts, and customize integrations to fit your needs. This powerful combo helps you stay on top of your data, tackle issues before they escalate, and keep everything running smoothly.</p><p>Happy monitoring, and may your alerts always be insightful!</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/cybersecurity/>Cybersecurity</a></li><li><a href=http://localhost:1313/tags/grafana/>Grafana</a></li><li><a href=http://localhost:1313/tags/slack/>Slack</a></li><li><a href=http://localhost:1313/tags/jira/>Jira</a></li><li><a href=http://localhost:1313/tags/n8n/>N8n</a></li><li><a href=http://localhost:1313/tags/soar/>SOAR</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/creating-a-new-app-on-openresty-edge/><span class=title>« Prev</span><br><span>Getting Started with Your New Application on OpenResty Edge: An Easy-to-Follow Tutorial</span>
</a><a class=next href=http://localhost:1313/posts/installing-gophish-on-gcp/><span class=title>Next »</span><br><span>Installing Gophish on Google Cloud Platform: A Step-by-Step Guide</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Tomi Mulhartono</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>